
<h1 class="text-4xl font-bold text-charcoal mb-6">How to Integrate with ERP Systems</h1>

<div class="flex flex-wrap items-center gap-3 mb-8">
    <span class="inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium bg-orange-50 text-orange-700">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        6 minutes
    </span>
    <span class="inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium bg-yellow-50 text-brown">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
        Intermediate
    </span>
    <span class="inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium bg-orange-50 text-orange-700">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"/>
        </svg>
        How-To
    </span>
</div>

<section class="bg-white mb-8 p-8 border-t-4 border-yellow-500 shadow-sm">
    <h2 class="text-2xl font-bold text-charcoal mb-4 mt-0">Overview</h2>

    <div class="bg-gray-50 border-l-4 border-yellow-500 p-6 mb-6">
        <h3 class="text-lg font-bold text-charcoal mb-3">Why ERP Integration Matters</h3>
        <ul class="space-y-2 pl-6">
            <li class="relative hexagon-bullet pl-6 text-gray-700">Keep inventory accurate across all sales channels automatically</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Automate order flow from Magento to fulfillment</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Reduce stockouts and oversells with near-real-time inventory sync</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Speed fulfillment and improve customer experience</li>
        </ul>
    </div>

    <p class="text-lg text-gray-700 leading-relaxed mb-6">
        Integrate Magento with your ERP to keep inventory accurate, automate order flow, and speed fulfillment—reducing stockouts and errors while improving customer experience and operational efficiency.
    </p>
    <p class="text-gray-700 leading-relaxed mb-4">
        Near-real-time inventory minimizes oversell risk and cancellations, protecting margin and customer lifetime value. Catalog and media updates can be batched to reduce indexing load and hosting costs.
    </p>
</section>

<section class="bg-white mb-8 p-8 border-t-4 border-yellow-500 shadow-sm">
    <h2 class="text-2xl font-bold text-charcoal mb-6 mt-0">Prerequisites</h2>
    <p class="text-gray-700 mb-6">Before you begin, make sure you have:</p>
    <div class="grid md:grid-cols-2 gap-4">
        <div class="relative bg-gradient-to-br from-orange-50 to-white border border-orange-500/30 p-5">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-orange-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                    </svg>
                </div>
                <div>
                    <h4 class="font-semibold text-charcoal mb-1">Admin Panel Access</h4>
                    <p class="text-sm text-charcoal/70">Access to Magento Admin Panel with permissions to create/activate Integrations</p>
                </div>
            </div>
        </div>
        <div class="relative bg-gradient-to-br from-yellow-50 to-white border border-yellow-500/30 p-5">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-yellow-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                    </svg>
                </div>
                <div>
                    <h4 class="font-semibold text-charcoal mb-1">Magento Version</h4>
                    <p class="text-sm text-charcoal/70">Magento 2.3+ (MSI features require 2.3+)</p>
                </div>
            </div>
        </div>
        <div class="relative bg-gradient-to-br from-orange-50 to-white border border-orange-500/30 p-5">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-orange-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                </div>
                <div>
                    <h4 class="font-semibold text-charcoal mb-1">SSH Access</h4>
                    <p class="text-sm text-charcoal/70">Server CLI access to run bin/magento and manage cron</p>
                </div>
            </div>
        </div>
        <div class="relative bg-gradient-to-br from-yellow-50 to-white border border-yellow-500/30 p-5">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-yellow-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"/>
                    </svg>
                </div>
                <div>
                    <h4 class="font-semibold text-charcoal mb-1">Environments</h4>
                    <p class="text-sm text-charcoal/70">Staging/sandbox environments for both Magento and ERP (do not test in production)</p>
                </div>
            </div>
        </div>
        <div class="relative bg-gradient-to-br from-orange-50 to-white border border-orange-500/30 p-5">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-orange-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                </div>
                <div>
                    <h4 class="font-semibold text-charcoal mb-1">ERP Credentials</h4>
                    <p class="text-sm text-charcoal/70">ERP/iPaaS credentials and endpoint URLs</p>
                </div>
            </div>
        </div>
        <div class="relative bg-gradient-to-br from-yellow-50 to-white border border-yellow-500/30 p-5">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-yellow-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"/>
                    </svg>
                </div>
                <div>
                    <h4 class="font-semibold text-charcoal mb-1">Backup Plan</h4>
                    <p class="text-sm text-charcoal/70">Backup/rollback plan and recent database/filesystem backup</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="bg-white mb-8 p-8 border-t-4 border-yellow-500 shadow-sm">
    <h2 class="text-2xl font-bold text-charcoal mb-4 mt-0">What You'll Accomplish</h2>
    <p class="text-gray-700 mb-4">By following this guide, you will:</p>
    <ul class="space-y-3 pl-6">
        <li class="relative hexagon-bullet pl-6 text-gray-700">Set up a secure, least-privilege integration between Magento and your ERP</li>
        <li class="relative hexagon-bullet pl-6 text-gray-700">Improve your store's performance and customer experience</li>
    </ul>
</section>

<h2 class="text-3xl font-bold text-charcoal mb-8">Step-by-Step Instructions</h2>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">0</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Define scope, data entities, and SLAs</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            List the entities to sync (products, inventory, prices, customers, orders, shipments). For each, define direction (ERP→Magento or Magento→ERP), frequency (e.g., inventory every 10 minutes), and SLA (e.g., orders to ERP within 5 minutes). Capture KPIs: order latency, inventory accuracy, error rate.
        </p>
        <div class="bg-white border-4 border-yellow-500 p-4 flex gap-3 items-start">
            <svg class="w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            <p class="text-charcoal text-sm">Document these requirements before selecting a connector or integration approach. Clear requirements help you evaluate solutions and prevent scope creep.</p>
        </div>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">1</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Choose your integration approach</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <div class="bg-yellow-500 border-4 border-amber-600 p-4 mb-4 flex gap-3 items-start">
            <svg class="w-6 h-6 text-amber-700 flex-shrink-0" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2L1 21h22L12 2zm0 3.99L19.53 19H4.47L12 5.99zM11 16h2v2h-2v-2zm0-6h2v4h-2v-4z"/>
            </svg>
            <p class="text-brown"><strong>Always integrate and validate in a staging environment first.</strong> Do not connect your ERP to production until end-to-end tests pass and a rollback plan is in place.</p>
        </div>
        <p class="text-gray-700 leading-relaxed mb-4">
            Evaluate: 1) Prebuilt connector (Magento Marketplace or ERP vendor), 2) iPaaS (middleware), 3) Direct API (custom). Prefer connectors for common ERPs to reduce time-to-value; choose iPaaS for multi-system orchestration. Confirm availability of a staging environment.
        </p>

        <h4 class="font-semibold text-charcoal mb-3 mt-6">Decision criteria and trade-offs:</h4>
        <div class="grid md:grid-cols-3 gap-4 mb-4">
            <div class="bg-gray-50 border-l-4 border-orange-500 p-4">
                <h5 class="font-semibold text-charcoal mb-2">Prebuilt Connector</h5>
                <p class="text-sm text-gray-700 mb-2">Fastest time-to-value, predictable cost, limited customization.</p>
                <p class="text-sm text-gray-700"><strong>Best for:</strong> Common ERPs (SAP Business One, NetSuite, Microsoft Dynamics) and standard flows.</p>
            </div>
            <div class="bg-gray-50 border-l-4 border-yellow-500 p-4">
                <h5 class="font-semibold text-charcoal mb-2">iPaaS</h5>
                <p class="text-sm text-gray-700 mb-2">Good for multi-system orchestration (ERP + WMS + CRM), visual mapping, error handling.</p>
                <p class="text-sm text-gray-700"><strong>Trade-off:</strong> Higher monthly cost.</p>
            </div>
            <div class="bg-gray-50 border-l-4 border-brown p-4">
                <h5 class="font-semibold text-charcoal mb-2">Direct API (Custom)</h5>
                <p class="text-sm text-gray-700 mb-2">Maximum control, highest upfront/ongoing engineering cost.</p>
                <p class="text-sm text-gray-700"><strong>Choose only if:</strong> Unique requirements exist or no reliable connector is available.</p>
            </div>
        </div>

        <h4 class="font-semibold text-charcoal mb-3 mt-6">Business impact guidance:</h4>
        <ul class="space-y-2 pl-6">
            <li class="relative hexagon-bullet pl-6 text-gray-700"><strong>Inventory:</strong> Should be near real-time to reduce oversell risk and cancellations</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700"><strong>Catalog and media:</strong> Can be batched to reduce indexing load and hosting costs</li>
        </ul>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">2</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Create a Magento API Integration with least-privilege access</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            In Magento Admin, go to <span class="step-code">System › Extensions › Integrations › Add New Integration</span>. Enter a name (e.g., ERP Connector), contact email, and callback/identity URLs if your connector requires OAuth callbacks.
        </p>

        <h4 class="font-semibold text-charcoal mb-3">Configure API scopes</h4>
        <p class="text-gray-700 leading-relaxed mb-4">
            In the API tab, set Resource Access to <strong>Custom</strong> and grant only needed scopes. Common scopes for these flows:
        </p>
        <ul class="space-y-2 pl-6 mb-4">
            <li class="relative hexagon-bullet pl-6 text-gray-700">Catalog › Products</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Catalog › Inventory (Stock)</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Sales › Operations › Orders, Invoices, Shipments</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Customers › All Customers</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">If on Magento 2.3+ with MSI, also include Inventory (MSI) resources (e.g., Source Items, Stocks)</li>
        </ul>

        <p class="text-gray-700 leading-relaxed mb-4">
            Save. Click <strong>Activate</strong>, then <strong>Allow</strong> to generate keys. Copy Consumer Key, Consumer Secret, Access Token, and Access Token Secret.
        </p>

        <div class="bg-gray-50 border-l-4 border-orange-500 p-6 mt-6">
            <h4 class="font-semibold text-charcoal mb-3">Security best practices:</h4>
            <ul class="space-y-2 pl-6">
                <li class="relative hexagon-bullet pl-6 text-gray-700">Use Integrations with least-privilege scopes instead of admin tokens</li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">Rotate Integration tokens/keys at least quarterly; revoke unused Integrations</li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">Restrict callback and identity URLs to trusted domains; enable IP allowlisting on ERP/iPaaS if supported</li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">Store credentials in a secrets manager; never hard-code keys in code repositories</li>
            </ul>
        </div>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">3</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Configure ERP or middleware with Magento credentials</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            In your ERP connector, add Magento as a connection using your store base URL (https) and the OAuth credentials. Match Magento settings: <span class="step-code">Stores › Settings › Configuration › General › General › Locale Options</span> (Timezone) and <span class="step-code">General › Currency Setup</span> (Base/Default/Display Currency). Verify connection with a test call (e.g., GET /V1/store/storeViews).
        </p>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">4</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Map and schedule ERP→Magento product, price, and inventory syncs</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            Map fields: SKU (required), name, description, price, tax class, visibility, status, categories, and images. For inventory, map source/stock (MSI) and quantities. Enable delta updates when supported.
        </p>

        <h4 class="font-semibold text-charcoal mb-3">Product modeling and attributes:</h4>
        <ul class="space-y-3 pl-6 mb-6">
            <li class="relative hexagon-bullet pl-6 text-gray-700">
                <strong>Product types:</strong> Define how configurables map (parent product + child simples with attribute options), bundles, and grouped products
            </li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">
                <strong>Attribute sets:</strong> Ensure required attributes exist in Magento with matching attribute codes and correct input types
            </li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">
                <strong>Media:</strong> Provide base, small, thumbnail images and swatch images; confirm external URL vs binary upload method supported by your connector
            </li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">
                <strong>Price scope:</strong> Verify <span class="step-code">Stores › Settings › Configuration › Catalog › Catalog › Price › Catalog Price Scope</span> (Global vs Website) aligns with ERP price lists
            </li>
        </ul>

        <h4 class="font-semibold text-charcoal mb-3">Set schedules:</h4>
        <div class="grid md:grid-cols-3 gap-4 mb-4">
            <div class="bg-orange-50 border-4 border-orange-500 p-4">
                <h5 class="font-semibold text-charcoal mb-1">Catalog</h5>
                <p class="text-sm text-gray-700">1–2 times/day (or on change)</p>
            </div>
            <div class="bg-yellow-50 border-4 border-yellow-500 p-4">
                <h5 class="font-semibold text-charcoal mb-1">Prices</h5>
                <p class="text-sm text-gray-700">Hourly if needed</p>
            </div>
            <div class="bg-orange-50 border-4 border-orange-500 p-4">
                <h5 class="font-semibold text-charcoal mb-1">Inventory</h5>
                <p class="text-sm text-gray-700">Every 5–10 minutes</p>
            </div>
        </div>

        <div class="bg-white border-4 border-yellow-500 p-4 flex gap-3 items-start">
            <svg class="w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6A4.997 4.997 0 017 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"/>
            </svg>
            <p class="text-charcoal text-sm"><strong>Why it matters:</strong> Near-real-time inventory minimizes oversell risk and cancellations, protecting margin and customer lifetime value. Catalog and media updates can be batched to reduce indexing load and hosting costs.</p>
        </div>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">5</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Map and schedule Magento→ERP order and customer exports</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <h4 class="font-semibold text-charcoal mb-3">Configure trigger and idempotency:</h4>
        <ul class="space-y-2 pl-6 mb-6">
            <li class="relative hexagon-bullet pl-6 text-gray-700">
                <strong>Trigger:</strong> Export on order placement (state = new) or when payment is captured (status = Processing). Document which event applies per payment method (offline vs online capture) to avoid misses/duplicates
            </li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">
                <strong>Idempotency:</strong> Use increment_id as the unique key; reject duplicates in ERP
            </li>
        </ul>

        <h4 class="font-semibold text-charcoal mb-3">Map order data:</h4>
        <ul class="space-y-2 pl-6 mb-4">
            <li class="relative hexagon-bullet pl-6 text-gray-700"><strong>Order fields:</strong> increment_id, items with SKU/qty, totals, tax, payment, shipping, discounts</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700"><strong>Taxes/discounts:</strong> Include tax_amount, discount_amount, shipping_discount_amount, and coupon_code</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700"><strong>Shipping methods:</strong> Map Magento method codes (e.g., flatrate_flatrate, freeshipping_freeshipping) to ERP carriers/service levels</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700"><strong>Payment methods:</strong> Map Magento codes (e.g., checkmo, braintree, paypal_express) to ERP payment terms</li>
        </ul>

        <p class="text-gray-700 leading-relaxed">
            Export customers as needed to maintain CRM data.
        </p>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">6</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Enable ERP→Magento fulfillment (shipment/tracking) and invoicing</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            Configure ERP to send shipment confirmations back to Magento, including carrier and tracking numbers. If invoicing is ERP-driven, map invoice creation to Magento. Ensure the Integration has Sales permissions for shipments and invoices.
        </p>

        <div class="bg-gray-50 border-l-4 border-yellow-500 p-6">
            <h4 class="font-semibold text-charcoal mb-3">Operational considerations:</h4>
            <ul class="space-y-2 pl-6">
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>Email notifications:</strong> If you want Magento to send shipment/invoice emails, enable in <span class="step-code">Stores › Settings › Configuration › Sales › Sales Emails</span>
                </li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>Partial shipments:</strong> Confirm your ERP can post multiple shipments per order with per-item quantities and tracking numbers
                </li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>Credit memos/returns:</strong> If ERP manages returns, map Magento credit memo creation back from ERP
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">7</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Prepare Magento for automation (cron, indexers, inventory)</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            In Magento Admin, go to <span class="step-code">System › Tools › Index Management</span> and set relevant indexers to <strong>Update by Schedule</strong>.
        </p>

        <h4 class="font-semibold text-charcoal mb-3">Cron setup and verification:</h4>
        <ul class="space-y-2 pl-6 mb-6">
            <li class="relative hexagon-bullet pl-6 text-gray-700">From the server, run <code class="step-code">bin/magento cron:install</code> (if not installed), then <code class="step-code">bin/magento cron:run</code></li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Verify three Magento cron entries exist via <code class="step-code">crontab -l</code> (two for Magento and one for update/cron log depending on version)</li>
            <li class="relative hexagon-bullet pl-6 text-gray-700">Check recent execution in <code class="step-code">var/log/cron.log</code> (if enabled)</li>
        </ul>

        <div class="bg-gray-50 border-l-4 border-orange-500 p-6">
            <h4 class="font-semibold text-charcoal mb-3">MSI considerations:</h4>
            <ul class="space-y-2 pl-6">
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>Single vs Multi-Source:</strong> If single-source, update the Default Source. If multi-source, specify the selling Source(s) your ERP updates and ensure Source-to-Stock assignments reflect sales channels (<span class="step-code">Stores › Inventory</span>)
                </li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>Reservations:</strong> Magento places inventory reservations on order placement. Ensure your ERP integration decrements source quantities and confirm reservations are cleared upon shipment/invoice
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">8</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Run an end-to-end sandbox test</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            Create a test product in ERP; allow it to sync to Magento. In Magento, place a test order for that product. In ERP, process fulfillment and send shipment/tracking back. Confirm Magento shows shipment, tracking, and correct stock decrement. Use a unique marker (e.g., test coupon) to trace the order.
        </p>
    </div>
</div>

<div class="border-t-4 border-yellow-500 bg-white shadow-sm p-8 mb-6">
    <div class="flex items-center gap-4 mb-6">
        <div class="w-10 h-10 bg-yellow-500 text-charcoal font-extrabold text-lg flex items-center justify-center flex-shrink-0">9</div>
        <h3 class="text-2xl font-bold text-charcoal m-0">Go live, monitor, and tune</h3>
    </div>
    <div class="text-gray-700 leading-relaxed">
        <p class="text-gray-700 leading-relaxed mb-4">
            Enable production schedules. Set alerts in your connector for failed runs. Monitor KPIs (order latency, shipment latency, inventory accuracy, error rate) for 72 hours.
        </p>

        <div class="bg-gray-50 border-l-4 border-orange-500 p-6 mb-4">
            <h4 class="font-semibold text-charcoal mb-3">Targets and actions:</h4>
            <ul class="space-y-2 pl-6">
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>KPIs:</strong> Order export latency &lt; 5 minutes (P95); Inventory sync latency &lt; 10 minutes (P95); Error rate &lt; 1% per 1,000 records; Oversell incidents = 0
                </li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>Alerts:</strong> Notify on failed runs, 5xx errors &gt; 3 in 10 minutes, or queue backlog &gt; 2x normal
                </li>
                <li class="relative hexagon-bullet pl-6 text-gray-700">
                    <strong>Monitoring:</strong> Use connector dashboards, Magento logs (var/log), and ERP job monitors. Schedule daily spot checks on a random set of orders. Tune frequencies, payload sizes, and retries/backoff as needed
                </li>
            </ul>
        </div>
    </div>
</div>

<h2 class="text-3xl font-bold text-charcoal mb-6">Verification</h2>
<p class="text-gray-700 mb-6">Use this checklist to confirm end-to-end data integrity:</p>

<ul class="list-none my-8 pl-0 space-y-5">
    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">API Connectivity</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Call GET /V1/store/storeViews and GET /V1/products?searchCriteria[currentPage]=1 using your connector; both should return 200 responses
            </li>
        </ul>
    </li>

    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">Product Sync</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Verify product appears in Catalog › Products with correct attributes, price, visibility, and images
            </li>
        </ul>
    </li>

    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">Inventory</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Check salable quantity in Catalog › Products (Columns › Salable Quantity) and, for MSI, verify source quantities in Stores › Inventory › Sources
            </li>
        </ul>
    </li>

    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">Order Export</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Place a test order; confirm ERP received the order with correct increment_id, items, totals, and addresses
            </li>
        </ul>
    </li>

    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">Shipment</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Post a shipment from ERP; verify it in Sales › Shipments and that tracking appears on the order and in the customer account
            </li>
        </ul>
    </li>

    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">Indexers</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Run bin/magento indexer:status to confirm Ready status and schedule mode
            </li>
        </ul>
    </li>

    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">Cron</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Inspect var/log/cron.log (if enabled) and confirm recent run times; ensure cron is executing on schedule
            </li>
        </ul>
    </li>

    <li class="bg-white p-7 shadow-sm">
        <div class="flex items-center justify-between mb-5">
            <strong class="text-lg font-bold text-charcoal">Errors</strong>
        </div>
        <ul class="grid gap-3 m-0 p-0 list-none">
            <li class="flex items-start gap-3 p-3 pl-10 bg-gray-50 hover:bg-orange-50 transition-colors relative">
                <span class="absolute left-3 top-3 w-5 h-5 border-2 border-yellow-500 flex items-center justify-center text-yellow-500 font-bold text-sm">✓</span>
                Check var/log/system.log and var/log/exception.log for integration-related errors; resolve any recurring messages
            </li>
        </ul>
    </li>
</ul>

<h2 class="text-3xl font-bold text-charcoal mb-6">Common Issues and Solutions</h2>

<div class="space-y-4 my-8">
    <div class="bg-white shadow-md overflow-hidden border-t-4 border-orange-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-orange-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Authentication & Access</h3>
                <p class="text-charcoal/60 text-sm">401 Unauthorized when calling Magento APIs</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-orange-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely causes:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Integration not activated, incorrect base URL, or expired/rotated tokens
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Reactivate the Integration (System › Extensions › Integrations)
                    </li>
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Verify the exact store base URL (https), and reissue tokens
                    </li>
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Ensure server time is accurate to avoid OAuth timestamp issues
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-yellow-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-yellow-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">OAuth callback issues</h3>
                <p class="text-charcoal/60 text-sm">ERP/iPaaS cannot complete OAuth callback</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-yellow-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Callback/Identity URLs not whitelisted or blocked by firewall
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Update Integration settings with correct URLs and allowlist connector IPs/domains
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-orange-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-orange-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Catalog & Attributes</h3>
                <p class="text-charcoal/60 text-sm">Product import fails due to missing attributes/attribute set</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-orange-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Attributes do not exist in Magento or wrong input types
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Create required attributes and attribute sets with matching codes and types; re-map in connector
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-yellow-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-yellow-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Images not appearing</h3>
                <p class="text-charcoal/60 text-sm">Images do not appear on the storefront</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-yellow-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Connector posting external URLs without permissions or missing base/small/thumbnail roles
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Use supported media method (external URL vs binary upload) and set image roles correctly
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-orange-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-orange-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Inventory / MSI</h3>
                <p class="text-charcoal/60 text-sm">Salable Quantity does not change after sync</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-orange-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Updating the wrong Source/Stock or reservations not cleared
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Update the correct selling Source(s); verify Source-to-Stock assignments
                    </li>
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Ensure shipments/invoices are created so reservations are cleared
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-yellow-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-yellow-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Indexers not running</h3>
                <p class="text-charcoal/60 text-sm">Inventory updates succeed but items still out of stock</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-yellow-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Indexers not running
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Set indexers to Update by Schedule (System › Tools › Index Management) and ensure cron is running
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-orange-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-orange-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Orders & Exports</h3>
                <p class="text-charcoal/60 text-sm">Duplicate orders in ERP</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-orange-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Export triggered on both state=new and status=Processing without idempotency
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-orange-500 rounded-full"></span>
                        Choose a single trigger and enforce uniqueness by increment_id in ERP
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-yellow-500">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-yellow-50 transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Method mapping issues</h3>
                <p class="text-charcoal/60 text-sm">ERP rejects shipping/payment methods</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-yellow-500/30">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Unmapped Magento method codes
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-yellow-500 rounded-full"></span>
                        Map Magento shipping/payment codes to ERP carriers/service levels and payment terms
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-charcoal">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-off-white transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Performance & Timeouts</h3>
                <p class="text-charcoal/60 text-sm">API timeouts or slow bulk updates</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-charcoal/20">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-charcoal rounded-full"></span>
                        Payloads too large or peak-time contention
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-charcoal rounded-full"></span>
                        Use pagination and smaller batch sizes
                    </li>
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-charcoal rounded-full"></span>
                        Enable delta updates, schedule heavy jobs off-peak
                    </li>
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-charcoal rounded-full"></span>
                        Configure retries with backoff in the connector
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-white shadow-md overflow-hidden border-t-4 border-charcoal">
        <button class="w-full p-5 text-left cursor-pointer grid grid-cols-[1fr_auto] gap-4 items-center hover:bg-off-white transition-colors" onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('svg').classList.toggle('rotate-180')">
            <div>
                <h3 class="text-xl font-bold text-charcoal mb-1">Cron & Indexers</h3>
                <p class="text-charcoal/60 text-sm">Data visible in Admin but not on storefront</p>
            </div>
            <svg class="w-8 h-8 text-charcoal/50 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div class="hidden border-t border-charcoal/20">
            <div class="p-6">
                <h4 class="font-bold text-charcoal mb-3">Likely cause:</h4>
                <ul class="list-none p-0 space-y-2 mb-4">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-charcoal rounded-full"></span>
                        Indexers not up-to-date or cron not running
                    </li>
                </ul>
                <h4 class="font-bold text-charcoal mb-3">Fix:</h4>
                <ul class="list-none p-0 space-y-2">
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-charcoal rounded-full"></span>
                        Verify with bin/magento indexer:status
                    </li>
                    <li class="relative pl-7 py-1 text-charcoal">
                        <span class="absolute left-1.5 top-3.5 w-2 h-2 bg-charcoal rounded-full"></span>
                        Set to Update by Schedule and confirm cron entries with crontab -l and var/log/cron.log
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
/* Hexagon bullet marker for lists */
.hexagon-bullet::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.5em;
    width: 9px;
    height: 9px;
    background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 2L21 7V17L12 22L3 17V7L12 2Z' stroke='%23F26423' stroke-width='2.5' stroke-linejoin='miter'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
}

/* Step code styling for inline code paths */
.step-code {
    background: #2C2C2C;
    color: #F1BC1B;
    padding: 0.25rem 0.5rem;
    font-family: 'Courier New', monospace;
    font-size: 0.875rem;
}
</style>
