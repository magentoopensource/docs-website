/**
 * Code Block Styling
 * Syntax highlighting and code display
 */
@layer components {
    /* Code blocks wrapper for copy button */
    .code-block-wrapper .copyBtn {
        @apply absolute right-2 top-2 outline-none text-gray-200 hover:text-gray-500;
        @apply opacity-25 hover:opacity-100 transition-opacity;
    }

    /* Pre blocks */
    pre {
        @apply relative my-4 overflow-x-auto whitespace-pre break-normal rounded-lg;
        tab-size: 4;
        box-shadow: 0 1px 1px rgb(0 0 0 / 8%);
        /* Background color is set by Torchlight inline styles on code element */
    }

    /* Copy button states */
    pre .copyBtn:hover,
    pre .copyBtn:focus,
    pre .copyBtn:active {
        @apply text-white outline-none;
    }

    /* Torchlight syntax highlighting */
    pre code.torchlight {
        @apply block py-4 min-w-max;
        /* Background color is set by Torchlight inline styles */
    }

    pre code.torchlight .line {
        @apply px-4;
    }

    pre code.torchlight .line-number {
        @apply pr-4;
    }

    /* Mermaid diagrams */
    .mermaid {
        @apply p-4;
        background-color: #292d3e;
    }

    /* Force dark background on Torchlight code blocks with !important */
    .step-content pre:has(code.torchlight) {
        background-color: #292D3E !important;
        border-radius: 0 !important;
        padding: 1.5rem !important;
        overflow-x: auto;
        margin: 1rem 0;
    }

    .step-content pre:has(code.torchlight) code {
        background: transparent !important;
    }
}
